---
title: 我的第一篇博客
date: 2022-04-27 13:09:12
updated: 2022-04-28 00:33:00
comment: true
sticky: 999
category: 编程教程
tags: [hexo,博客]
---

本篇文章主要介绍hexo博客

## 常用网址

### 博客相关

* hexo官网：https://hexo.io/zh-cn/
* keep主题官网：https://keep-docs.xpoet.cn/
* picx图片官网：https://picx.xpoet.cn/#/upload

## 博客部署与文章更新

**github相关仓库**

本博客部署在 https://github.com/liuSheng0/liuSheng0.github.io

- 分支main：用于存放github page
- 分支hexo：用于存放hexo源码，防止丢失

评论gitalk服务器部署在 https://github.com/liuSheng0/gitalk-save

图床部署在 https://github.com/liuSheng0/image-hosting

**新建文章时执行如下命令**

```
$ hexo new [layout] <title>
```

**布局（layout）**

Hexo 有三种默认布局：`post`、`page` 和 `draft`。在创建这三种不同类型的文件时，它们将会被保存到不同的路径；而您自定义的其他布局和 `post` 相同，都将储存到 `source/_posts` 文件夹。

| 布局    | 路径             |
| :------ | :--------------- |
| `post`  | `source/_posts`  |
| `page`  | `source`         |
| `draft` | `source/_drafts` |

**部署文章时执行如下命令**

```
/* 在localhost:4000本地浏览修改 */
$ hexo s

/* 用于执行，清空、刷新、部署，更新main页面 */
$ hexo clean && hexo g && hexo d
```

**若网站架构有更新，建议使用如下命令将源码存入github仓库的hexo分支**

```
/* 以下命令为提交源码到hexo仓库 */
$ git add .
$ git commit -m "更新"
$ git push origin hexo
```

**自动部署功能**

通过Travis CI设置自动部署功能，可以在没有hexo环境的情况下更新博客，在github上更新md文档后，将自动部署在github page上。

*注意：可能会导致本地仓库与线上仓库内容不一致，尽量在push前执行pull操作或者使用push命令更新博客*

* Travis CI官网： https://www.travis-ci.com/  

## 常用博客功能

### 文章加密

基于“ hexo-blog-encrypt”扩展实现

* 对文章信息头使用如下关键字

```
password: xxx #设置密码为xxx
sbstract: aaa #设置锁定时主页描述为aaa
message: bbb #设置锁定时文章信息为bbb
wrong_pass_message: ccc #设置密码输入错误时信息ccc
wrong_hash_message: ddd #设置密码输入正确时信息ddd
```

* 或者使用“加密”tag加密文章

### 设置标签和分类

```
tag: [tag1,tag2,tag3] #设置文章标签为tag1，tag2，tag3
categories: cat #设置文章分类为cat
```

### 置顶文章

文章默认以时间顺序排列，使用sticky属性来置顶文章

```
sticky: 999 #值越大文章越靠前
```

### 添加音乐

#### 方法1：使用插件

使用一款html5音乐播放器：[Aplayer](https://link.jianshu.com/?t=https://github.com/DIYgod/APlayer)，把Aplayer加入hexo需要用到[hexo-tag-aplayer](https://link.jianshu.com/?t=https://github.com/grzhan/hexo-tag-aplayer)插件。

在需要添加音乐的地方加上：

```
{% aplayer "歌曲名称" "作者" "音乐_url" "封面图片_url" "autoplay" %}
```

如果你想加入歌单，把上面的代码换成下面代码就行，参数的用法可以参照插件的使用说明。

Aplayer的作者还有一款html5的视频播放器，叫[Dplayer](https://link.jianshu.com/?t=https://github.com/DIYgod/DPlayer)，对应有一款hexo的插件，叫[hexo-tag-dplayer](https://link.jianshu.com/?t=https://github.com/NextMoe/hexo-tag-dplayer)，有需求可以今后添加。

#### 方法2：使用外链

以网易云外链为例：

<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=436346833&auto=1&height=66"></iframe>
