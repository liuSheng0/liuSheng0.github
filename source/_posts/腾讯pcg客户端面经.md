---
title: 腾讯pcg客户端面经
date: 2022-04-27 20:16:30
tags: [面试,客户端,开发]
categories: 面试经验
comment: true
---



去年考研一战失败，被腾讯pcg喊去面试，投的腾讯pcg客户端方向，二面的时候我问面试官客户端主要工作，他告诉他是后端面试官...然后就这么凉了，二面的内容我也不太记得了，大家凑活看一下吧。

## 一面

1 代码题，给出一个数字，计算他拆为两个质数相加的组数。如n=10 res=2（[2,7],[5,5]）

2 网络分层结构（应用层->传输层->网络层->数据链路层->物理层）

3 http和https的区别，http在哪一层

4 tcp在哪一层，三次握手，为什么要三次握手

5 常用的STL数据结构（我答的vector）->vector数组的本质（动态数组）->vector数组如何实现动态分配的

6 设计一个移动客户端，使得在用户关闭客户端后还可以接收到服务器发送的通知（TCP长连接/应用层实现UDP长链接）

7 聊一聊自己的项目

8 指出了简历中的一个项目聊了一下

9 说一说平时都是怎么学习知识的

10 说一说自己和身边的同学比有哪些优势



---

下面是网上的其他面经

## 腾讯pcg客户端面经

作者：菜鸟要飞啊

链接：https://www.nowcoder.com/discuss/396510?type=2

来源：牛客网

### 一面

解释一下虚函数内部实现原理？ 

虚表（编译时建立，运行时覆盖）



一个模板类在不同特化之后，得到的类还是不是同一个类？

是



解释一下什么叫偏特化？

https://blog.csdn.net/songchuwang1868/article/details/88918175



malloc/free和new/delete的区别？

区别1：类型

malloc/free是函数，而new/delete是关键字、操作符

区别2：作用

malloc/free只是简单的进行内存的申请和释放；new/delete除了进行内存申请和释放，还会调用对象的构造函数和析构函数进行空间的初始化和清理

区别3：参数与返回值

malloc/free需要手动计算申请内存的空间大小，而且返回值是void*，需要自己转换成所需要的类型

new/delete可以自己计算类型的大小，返回为对应的类型指针

区别4：内存占用

malloc/free占用自由存储区，new/delete占用堆存储区

 

如果一个类的析构函数是虚函数，那么一般是用来干嘛的？

基类

 

说一下C++中const的几种用法？

const在谁后面谁就不可变。const在最前面就往后挪一个判断

 

const常量与define宏定义的区别？

const本质是变量，但是不可修改

define本质就是字符串替换

 

map的底层数据结构是什么？

红黑树和平衡二叉树

 

红黑树和平衡二叉树的区别？

红黑树不追求完全平衡，有些时候性能更好

 

哈希表的实现方法？如何解决哈希冲突？



用C++做的后台多还是客户端多？

说一下TCP和UDP的区别？

1.基于连接与无连接；

2.对系统资源的要求（TCP较多，UDP少）；

3.UDP程序结构较简单；

4.流模式与数据报模式

5.TCP保证数据正确性，UDP可能丢包，TCP保证数据顺序，UDP不保证。

 

TCP为什么是三次握手而四次挥手？

三次握手保障在被链接方

 

HTTPS加密机制？

证书->key

 

什么叫死锁？死锁产生的条件？

多个进程在运行过程中因争夺资源

1 互斥条件

2 请求保持

3 不剥夺

4 循环等待



进程间通信有哪些方法？

管道（有名无名）

Socket套接字

信号和信号量

消息队列

共享内存



管道pipe：管道是一种半双工的通信方式，数据只能单向流动，而且只能在具有亲缘关系的进程间使用。进程的亲缘关系通常是指父子进程关系。

命名管道FIFO：有名管道也是半双工的通信方式，但是它允许无亲缘关系进程间的通信。

消息队列MessageQueue：消息队列是由消息的链表，存放在内核中并由消息队列标识符标识。消息队列克服了信号传递信息少、管道只能承载无格式字节流以及缓冲区大小受限等缺点。

共享存储SharedMemory：共享内存就是映射一段能被其他进程所访问的内存，这段共享内存由一个进程创建，但多个进程都可以访问。共享内存是最快的 IPC 方式，它是针对其他进程间通信方式运行效率低而专门设计的。它往往与其他通信机制，如信号量，配合使用，来实现进程间的同步和通信。

信号量Semaphore：信号量是一个计数器，可以用来控制多个进程对共享资源的访问。它常作为一种锁机制，防止某进程正在访问共享资源时，其他进程也访问该资源。因此，主要作为进程间以及同一进程内不同线程之间的同步手段。

套接字Socket：套解口也是一种进程间通信机制，与其他通信机制不同的是，它可用于不同及其间的进程通信。

信号 ( sinal ) ： 信号是一种比较复杂的通信方式，用于通知接收进程某个事件已经发生。



socket创建出来后，默认是什么模式？

阻塞模式



用户态和内核态的区别？

内核态与用户态是操作系统的两种运行级别，当程序运行在3级特权级上时，就可以称之为运行在用户态。因为这是最低特权级，是普通的用户进程运行的特权级，大部分用户直接面对的程序都是运行在用户态；

当程序运行在0级特权级上时，就可以称之为运行在内核态。

运行在用户态下的程序不能直接访问操作系统内核数据结构和程序。当我们在系统中执行一个程序时，大部分时间是运行在用户态下的，在其需要操作系统帮助完成某些它没有权力和能力完成的工作时就会切换到内核态（比如操作硬件）。



这两种状态的主要差别是

处于用户态执行时，进程所能访问的内存空间和对象受到限制，其所处于占有的处理器是可被抢占的

处于内核态执行时，则能访问所有的内存空间和对象，且所占有的处理器是不允许被抢占的。



算法题--寻找一个无序数组的中位数

快排

最小堆

 

算法题--在二叉树中寻找任意两个结点的最近公共结点

深度优先

 

设计一个LRU的缓存？

LRU最近最久未使用

1 数组+时间戳

2 链表+hashmap+更新头部舍弃尾部



讲一下云台项目的运行机制？

---

### 二面

毕业后工作的地方倾向于哪里？

说一下哈希表？

数组，散列函数

 

如果有哈希冲突的话如何处理？

1 开放定址法:按照一定规则向其它地址探测,直到遇到空桶.比如线性探测,假如现在的索引是3,3有值就向4探测,如果还有就继续向下,还比如平方探测.就是1 2 3 ...的平方进行探测.

2:再哈希法,设计多个哈希函数

3:链地址法,HashMap就是这样操作的

 

什么是平衡二叉树？当有节点发生变化的时候它会怎么样？

高度相差小于2，做平衡



map和set底层的数据结构？

红黑树



红黑树的查找效率是怎样的？解释一下为什么是这样？

logn平均，最大2logn



vector中erase()和remove()的区别？

 

 

介绍一下TCP的滑动窗口？

连续传输一组数据不用等待ack。快速重传。

 

HTTPS为什么比较安全？

证书，加密

 

为什么可以用公钥加密，用私钥解密呢？背后的技术原理？

RSA算法 大素数

 

用户态和核心态？内核态一般可以做什么？有没有做过内核态的调试？

进程管理

 

有没有做过内存泄漏的追查？怎么做？

Valgrind: Debugging and profiling Linux programs, aiming at programs written in C and C++

ccmalloc: Linux和Solaris下对C和C++程序的简单的使用内存泄漏和malloc调试库

LeakTracer: Linux、Solaris和HP-UX下跟踪和分析C++程序中的内存泄漏

Electric Fence: Linux分发版中由Bruce Perens编写的malloc()调试库

Leaky: Linux下检测内存泄漏的程序

Dmalloc: Debug Malloc Library

MEMWATCH: 由Johan Lindh编写，是一个开放源代码C语言内存错误检测工具，主要是通过gcc的precessor来进行

KCachegrind: A visualization tool for the profiling data generated by Cachegrind and Calltree

 

TCP断开连接是几次挥手？为什么？

4次

 

有什么问题吗？

可以实习多久？

---

## 腾讯CSIG

### 一面

1.自我介绍

2.项目优化

3.线程池和多线程编程

4.内存泄漏

5.垃圾回收算法

6.http和https，加密过程

7.TCP三次握手和四次挥手

8.TCP的time_wait

9.生产者消费者，使用什么数据结构存储资源

10.翻转链表（没写出来，我想找个班上了）

11.对于转客户端有什么学习的计划

12.实习时间和时长

---

## 腾讯PCG客户端

作者：牛客815852018号

https://www.nowcoder.com/discuss/630418?channel=-1&source_id=community_index_nctrack

来源：牛客网

 

一面视频面试（1h30min）：

挑一个简历里的项目介绍

问了问开发环境

 

STL Array List区别

new, malloc区别

汇编语言/C++内存结构 函数A call 函数B过程

虚函数

虚函数怎么运作的（虚函数表）

空类包含什么函数

对象的copy函数怎么运作的

线程进程区别

线程进程交流

TCP/UDP 区别

C++11特性

智能指针介绍

各种树的特点，底层实现

死锁/例子

快排思想及时间复杂度

 

算法：

一个无序数组找中位数

 

写代码：

Leetcode 415

拓展问了一下这道题如果换成减法是怎么实现的



大部分概念题都答出来了，写代码的题有两个笔误一直没发现是提醒后修改的。面完官网就变复试

---

## 二面

电话面试（40min）：

自我介绍

项目简介

 

进程之间如何交流，各有什么优缺点

介绍一下各种搜索树

平衡二叉树旋转

数据库引索用的是什么树

数据库索引怎么实现，高效么

md5算法介绍，怎么实现

strcpy安全隐患，有什么好的替代

本地客户端使用html源码安全隐患

HTTPS加密具体过程

TCP/UDP 发出一个大包有什么区别

哈希冲突 （要求说出三种方案）

开放定址

再哈希法

哈希链表



算法：

一个无序数组找中位数 （没错就是和一面一样的问题，但我用了一面的回答面试官直接要求让我想一个复杂度更低的orz）

## 腾讯pcg

作者：徐201903212006771

链接：https://www.nowcoder.com/discuss/436432?channel=-1&source_id=discuss_terminal_discuss_sim_nctrack

来源：牛客网

 

### 一面

时间：2020.05.22     面试时长：1h



1.自我介绍



2.笔试题1：删除无序链表中的重复结点（能否优化）

例：输入3 -> 2 -> 4 -> 3 -> 5 输出3 -> 2 -> 4 -> 5

解释：3结点重复，将第二个’3’结点删除（这边的重复指的是结点的值重复）



3.笔试题2：先说一下二叉树的有哪些遍历方法。写一个二叉树前序遍历的非递归形式。



4.讲一下Java的内存。



5.创建一个字符串对象，这个对象分配在哪里？



6.String str = “123” + “456”;会创建几个对象。



7.问了操作系统的问题，没学过，所以也忘了问了什么。



8.数据存储有学过吗？数据库和文件保存有什么区别？



9.Activity有哪些启动模式？

显式启动

隐式启动

直接通过包名启动apk



10.有什么要问的？

---

### 二面

时间：2020.05.23     面试时长：1h

 

1.上一轮面试做了哪2到面试题？

 

2.会哪些编程语言？

 

3.想做哪个方向？为什么？Android

 

4.对Android比较感兴趣，都学了些什么？我答了活动的启动模式、Handler。

 

5.ListView源代码有看过吗？没看过。

 

6.想一下ListView应该是怎么实现的？链表？

 

\7. ListView滑动页面如何实现页面的复用？队列？后来经过面试官的引导，有了思路。一开始往下滑，为了不影响用户体验，下面的数据，需要先预加载，这样往下滑的时候，就可以快速地显示内容。如果往下滑了之后，又想要往上滑，采用移出页面的内容，就把相应的数据销毁掉，等需要再显示的时候重新加载，比较费时；可以在一开始往下滑的时候，移出页面的内容，将相应的UI数据（不是实际的内容数据，这个一直在存储空间中）压到一个栈里面，等要往回滑的时候，再出栈，恢复数据，这样就比较快。因此在做滑动页面的操作的时候，需要上下预留出一定量的项的数据，超过这个量，再把这些数据释放掉，具体需要留多少，一个是跟页面能显示多少有关，可以通过大量测试，看看多少比较合适。还跟用户的使用习惯有关，动态调节，可以引入机器学习的方法。

 

8.给你2个线程，如何产生死锁？为什么会产生死锁？

 

9.外存有一定量的数据，需要读取到内存中处理，但是内存的大小是不知道的，要求如何能够读取尽量少的次数，才能处理完全部的数据？

核心是试探内存的大小，假如要处理100M、数据

思路一：先用一个较小的数，比如1M的数据，看看内存能不能存得下，可以的话，2M，可以，4M，……如此指数增长地尝试，希望能找出一个比较大地和内存容量比较接近的值。假如得到了内存的大概大小，然后每次就以这个数来读取外存的数据，读取次数应该会比较少。

思路二：和思路一类似，不同的是一开始选的数偏大，比如5M，然后每次按固定值增长，即线性增长。后面的操作就类似了。

思路三：从大往小试探，先看50M能不能存得下，不行25M，可以37M，每次处理37M，3次就够了。



假如内存分成了50M、25M、10M、5M，如何找到第65M内存？

 

\10.  实习想要达到什么样的期望？基础能力得提升，想能独立做出几个App。



\11.  如何达到你得期望？基础要扎实，看安卓源代码，在实际场景中做练习。想要在多少时间达到这样一个目标？实习完，能独立开发几个应用；正式入职，深入了解安卓，新发布的技术也要及时了，工作个1-2年，看看能不能当个小组leader。

在这方面花更多精力，学新知识，不断解决问题、总结，遇到问题向同事请教，成长更快。



\12.  有看过Github得源码吗？



\13.  提问环节：问了面试官是做什么方向的？做了很多方向。



\14.  还问了Kotlin在公司的普及度，现在是否有必要学习？现在主要还是以Java为主，少数也在做，毕竟Java沉淀了这么多年。所以还是Java方面先学好。



\15.  自己选方向，还是分配方向？比较想做安卓。都做了哪些努力？看书、看博客。



\16.  周围有同学投腾讯的吗？有做客户端、前端的吗？
